{% extends 'global/base.html' %}

{% load static %}
{% load i18n %}
{% load crispy_forms_tags %}


{% block title %}
    Login
{% endblock title %}
{% block script %}
    <script src="{% static 'js/update.js' %}"></script>
    <script src="{% static 'js/survey.js' %}"></script>
{% endblock script %}


{% block content %}
    <div class="container">
        <div class="row flex-lg-nowrap">
            <div class="col">
                <div class="row">
                    <div class="col mb-3">
                        <div class="e-profile">
                            <nav class="navbar navbar-expand-lg navbar-light">
                                <button class="navbar-toggler" type="button" data-toggle="collapse"
                                        data-target="#accountMenu" aria-controls="accountMenu"
                                        aria-expanded="false" aria-label="Toggle navigation">
                                    <span class="navbar-toggler-icon"></span>
                                    <span class="navbar-toggler-icon"></span>
                                    <span class="navbar-toggler-icon"></span>
                                </button>
                                <div class="collapse navbar-collapse" id="accountMenu">

                                    <ul class="nav nav-tabs navbar-nav">
                                        <li class="nav-item"><a href="{% url 'profile' %}"
                                                                class="nav-link"><b
                                                style="color: #00b3e3;">{% trans 'Profile Info' %}</b></a></li>
                                        <li class="nav-item"><a href="{% url 'user_edit' %}"
                                                                class="active nav-link"><b
                                                style="color: #00b3e3;">{% trans 'Edit Profile' %}</b></a></li>
                                        <li class="nav-item"><a href="{% url 'change_password' %}"
                                                                class="nav-link"><b
                                                style="color: #00b3e3;">{% trans 'Change Password' %}</b></a></li>
                                        <li class="nav-item"><a href="{% url 'reports' %}"
                                                                class="nav-link"><b
                                                style="color: #00b3e3;">{% trans 'Reports' %}</b></a></li>
                                        <li class="nav-item"><a href="{% url 'ask_expert' %}"
                                                                class="nav-link"><b
                                                style="color: #00b3e3;">{% trans 'Ask the expert' %}</b></a></li>
                                    </ul>

                                </div>
                            </nav>
                            <div class="tab-content pt-3">
                                <div class="tab-pane active">
                                    <div class="container">
                                        <form class="form-horizontal" method="post" id="personForm"
                                              data-cities-url="{% url 'ajax_load_cities' %}"
                                              data-districts-url="{% url 'ajax_load_districts' %}"
                                              data-towns-url="{% url 'ajax_load_towns' %}"
                                              novalidate>
                                            <h2>{% trans 'Edit Profile' %}</h2>

                                            {% csrf_token %}
                                            <div class="row mt-3">
                                                <div class="form-group col-sm-4">
                                                    {{ form.name|as_crispy_field }}
                                                </div>
                                                <div class="form-group col-sm-4">
                                                    {{ form.surname|as_crispy_field }}
                                                </div>
                                            </div>

                                            <hr>

                                            <div class="row">
                                                <div class="form-group col-sm-4">
                                                    {{ form.language|as_crispy_field }}
                                                </div>
                                                <div class="form-group col-sm-4">
                                                    {{ form.email|as_crispy_field }}
                                                </div>
                                                <div class="form-group col-sm-4">
                                                    {{ form.phone|as_crispy_field }}
                                                </div>
                                            </div>

                                            <hr>
                                            <div class="row">
                                                <div class="form-group col-sm-4">
                                                    {{ form.gender|as_crispy_field }}
                                                </div>
                                                <div class="form-group col-sm-4">
                                                    {{ form.height|as_crispy_field }}
                                                </div>
                                                <div class="form-group col-sm-4">
                                                    {{ form.blood_group|as_crispy_field }}
                                                </div>
                                            </div>

                                            <hr>

                                            <div class="row">
                                                <div class="form-group col-sm-4">
                                                    {{ form.country|as_crispy_field }}
                                                </div>
                                                <div class="form-group col-sm-4">
                                                    <div id="city_country">
                                                        {{ form.city|as_crispy_field }}
                                                    </div>

                                                    <div id="city2_country">
                                                        {{ form.city2|as_crispy_field }}
                                                    </div>
                                                </div>



                                            </div>
                                            <div class="row" id="turkey_based">
                                                <div class="form-group col-sm-4">
                                                    {{ form.district|as_crispy_field }}
                                                </div>
                                                <div class="form-group col-sm-4">
                                                    {{ form.town|as_crispy_field }}
                                                </div>

                                            </div>


                                            <hr>
                                            <div class="alert alert-info" role="alert">
                                                <h4> {% trans 'Questions relating to the assessment of cardiovascular disease risk' %}</h4>
                                            </div>

                                            <div class="row">

                                                <div class="form-group col-sm-3">
                                                    {{ form.smoking|as_crispy_field }}
                                                </div>


                                                <div class="form-group col-sm-3">
                                                    {{ form.diabets|as_crispy_field }}
                                                </div>


                                                <div class="form-group col-sm-3">
                                                    {{ form.ethnicity|as_crispy_field }}
                                                </div>

                                                <div class="form-group col-sm-3">
                                                    {{ form.physical_activity|as_crispy_field }}
                                                </div>
                                            </div>

                                            <!-- YES NO -->

                                            <div class="container-fluid">

                                                <div class="row row-divided">
                                                    <div class="col-md col-sm-12">
                                                        <div class="col-md col-sm-12">{{ form.angina_or_heart_attack|as_crispy_field }}</div>
                                                        <hr class="survey-separator">
                                                        <div class="col-md col-sm-12">{{ form.pressure_treatment|as_crispy_field }}</div>
                                                        <hr class="survey-separator">
                                                        <div class="col-md col-sm-12">{{ form.rheumatoid_arthritis|as_crispy_field }}</div>
                                                    </div>
                                                    <div class="vl"></div>
                                                    <div class="col-md col-sm-12">
                                                        <div class="col-md col-sm-12">{{ form.kidney_disease|as_crispy_field }}</div>
                                                        <hr class="survey-separator">
                                                        <div class="col-md col-sm-12">{{ form.atrial_fibrillation|as_crispy_field }}</div>
                                                        <hr class="survey-separator">
                                                        <div class="col-md col-sm-12"
                                                             id="female-only-survey">{{ form.menopause|as_crispy_field }}</div>
                                                    </div>
                                                </div>
                                            </div>


                                            <div class="form-group">
                                                <div class="col-sm-9 col-sm-offset-3">
                                                    <small>*{% trans 'Required fields' %}</small>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="col-sm-9 col-sm-offset-3">
                                                    <button class="btn submitButton" type="submit">{% trans 'Save Changes' %}</button>
                                                </div>
                                            </div>

                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock content %}